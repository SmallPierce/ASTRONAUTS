shell脚本攻略
===========

### 任务
+ 文本处理
+ 网络运维
+ 系统管理

### 主要任务
+ 向终端打印
+ 玩转变量和环境变量
+ 使用函数添加环境变量
+ 通过shell进行数学运算
+ 玩转文件描述符和文件重定向
+ 数组和关联数组
+ 使用别名
+ 获取终端信息
+ 获取、设置日期及延时
+ 调试脚本
+ 函数和参数
+ 将函数序列输出读入变量
+ 以不按回车的方式读取字符'n'
+ 运行命令直至成功
+ 字段分割符和迭代器
+ 比较和测试

### 简介
+ shell脚本通常是一个一shebang起始的文本文件
  ```#!/bin/bash/```
  ```#！```通常位于解释器的路径之前，```/bin/bash/```是命令解释命令的路径
  通常两种的运行脚本方式:
  - 叫脚本作为bash命令行参数
    - ```bash script.sh```
  - 授予脚本执行的权限，将其变为可执行文件
    ```shell
        chmod 777 script.sh
        ./script.sh
    ```
+ ```~/.bashrc```设定shell的提示文本，颜色等各类设置
+ ```~/.bash_history```保存用户运行过的命令

### 向终端打印
+ 注意事项
  - 使用不带引号的echo，不可已使用```;```，因为分号在于在shell命令行中被用于命令定界符
  - 变量替换在单引号中是无效的

+ ehco指令
  - 在echo指令中使用转义字符 -e参数
  - 彩色打印
    ```echo -e "\e[1;31m This is red text \e[0m"```

### 玩转变量与环境变量
+ 什么是变量
  - 在bash中，每一个变量的值都是字符串
  - 查看进程运行时的环境变量
    ```cat /proc/$PID/environ```
  - export用来设置环境变量
  - 获得变量的长度
    ```length=$(#var)```
+ 使用函数添加环境变量
  -
### 使用bash进行数学计算
### 玩转文件描述符
+ tee 命令：既可以将文件重定向到文件，还可以提供一份重定向文件的副本作为后续版本的stdin
  - tee默认会将文件覆盖，可以使用-a选项，用于追加内容
  - 如果使用stdin作为命令参数，可以将```-```作为文件名参数即可
  - /dev/null是一个特殊的设备文件，他接收的任何数据都会丢弃掉，null设备通常也被称为黑洞文件
+ 将文件重新定向到命令
+ 将脚本内部的文本块进行重定向
  - 先log文件中写入头部数据
  ```
      #!/bin/bash
      #file_name : logwrite.sh
      cat<<EOF>log.txt
      LOG FILE HEADER
      This is a test log file
      Function:System statstics
      EOF
  ```
+ 自定义文件描述符
  - 可以使用execmi能量创建自己的文件描述符，文件打开模式：
    - 只读模式
    - 截断写入模式
    - 追加写入模式
+ 创建一个文件描述符并进行文件的读写操作exec函数，调用参数，需要仔细了解


### 数组和关联数组
+ 数组是shell脚本中非常重要的组成部分， 它借助索引将多个独立的数据存储为一个集合。
  - 普通数组只能使用整数最为数组索引。
  - bash也支持关联数组，他可以使用字符串作为数组索引，采用字符串索引更容易理解
+ 定义关联数组
  - 可以使用任意文本作为数据索引
  - 需要使用声明语句将一个变量名声明为关联数组
    - 1 创建别名</br>
      ```alias install="sudo apt-get install"```
    - 2 alias命令的作用只是暂时的，一旦关闭终端，所有设置过的别名就全部失效了，为了使别名可以一直生效，我们可以放入```~/.bashrc```文件中
    - 3 如果要删除别名，只需要在```~/.bashrc```中删除即可，或者使用```unalias```命令
    - 4 我们可以创建一个别名rmb，他能够删除原始文件，同时在backup目录中保留副本
      
